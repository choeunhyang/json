<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<table border="1">
<thead>
	<tr>
		<th>게시물 번호</th>
		<th>제목</th>
		<th>내용</th>
		<th>조회수</th>
	</tr>
</thead>
<tbody id = "tbody">
</tbody>
</table>
<script>
/*	var jsonStr = "[1,2,3,4,5]";
	var strs = JSON.parse(jsonStr);
	alert(strs[0]);	
	alert(strs[4]);
	
	var jsonStr2 = '[{"a":1},{"b":2}]';
	var strs2 = JSON.parse(jsonStr2);
	alert(strs2[0]['a']);
	alert(strs2[0].a); */
	
	/* var list = [];
	for(var i = 1; i<=5;i++){
		var user = {};
		user.name = '이름' + i;
		user.age = i;
		list.push(user);	
	}
	var listStr = JSON.stringify(list);
	document.write(listStr); */
	
	var xhr = new XMLHttpRequest();
	xhr.open('GET','/board.jsp');
	xhr.onreadystatechange = function(){
		if(xhr.readyState==4){
			var list = JSON.parse(xhr.response);
			var obj = document.querySelector('#tbody');
			var html ='';
			for(var i = 0; i<list.length;i++){
				html += '<tr>';
				html += '<td>' + list[i].binum + '</td>';
				html += '<td>' + list[i].bititle + '</td>';
				html += '<td>' + list[i].bitext + '</td>';
				html += '<td>' + list[i].bicnt + '</td>';
				html += '</tr>';
			}
			obj.innerHTML = html;	
		}
		
		
		 //if(xhr.readyState==4){
			/* alert(xhr.response);  user.json에 있는 내용 출력 */
			/* var list = JSON.parse(xhr.response);
			var obj = document.querySelector('#tbody');
			var html ='';
			for(var i = 0; i<list.length;i++){
				var name = list[i].name;
				var age = list[i].age;
				html += '<tr>';
				html += '<td>' + name + '</td>';
				html += '<td>' + age + '</td>';
				html += '</tr>';  */
				/* document.write(name + ',' + age + '<br>'); */
			/*}
			obj.innerHTML = html;
		}*/
	}
	xhr.send();
</script>
</body>
</html>